### Polymarket 套利类型与流程详解

在 Polymarket 的多选项（multi-outcome）预测市场中，套利（arbitrage）主要利用价格偏差（如隐含概率总和 ≠100%）实现无风险或低风险利润。平台不支持杠杆或做空（short selling），所以套利多依赖买入/卖出 Shares 并持有至结算（resolution）。根据 2025 年研究，套利分为三大类型：**总和价格套利（Sum-of-Prices Arbitrage）**、**市场再平衡套利（Market Rebalancing Arbitrage）** 和 **组合套利（Combinatorial Arbitrage）**。这些类型通过 API 或手动监控订单簿识别机会，执行后利润源于偏差修正。

以下详细说明每个类型的流程，基于平台 CLOB 机制（订单匹配创建 Shares）。注意：套利需小额测试，考虑 gas 费（Polygon 链低）和滑点风险。

#### 1. **总和价格套利（Sum-of-Prices Arbitrage）**
   - **描述**：多选项市场（如总统选举候选人）所有 YES 价格总和 ≠1 时发生。最常见于总和 <1（<100%）的“Dutch Book”机会（买全套获利）；总和 >1（>100%）时，套利更复杂（需卖出高估选项，等价买 NO）。
   - **适用场景**：总和偏差 1-5%，热门市场如 Fed 利率决定。
   - **流程步骤**：
     1. **识别偏差**：用平台“Implied Probabilities”或 API 查询所有选项 YES 价格总和（e.g., ∑YES <1 或 >1）。工具如 Polymarket API 或 bot 扫描（e.g., 总和 0.995）。
     2. **执行交易**：
        - **总和 <1**：用 Market/Limit Orders 买 1 股每个选项（总成本 <1 USDC）。系统匹配订单簿，若需创建 Shares，通过互补买 NO 自动 mint。
        - **总和 >1**：卖出高估选项（放置 Limit Sell YES），或买所有 NO（镜像为卖 YES）。无短卖，故需持有平衡头寸（e.g., 买 YES + NO 组合，等价赎回 1 USDC）。
     3. **持有与结算**：持有至市场 resolve（事件结束，正确选项付 1 USDC，其他 0）。利润 = 1 - 总成本（e.g., 0.005 USDC/股）。
     4. **退出**：可选预结算卖出锁定利润，但风险情绪变化。
   - **示例**：Fed 利率市场（4 选项）：总和 0.001 + 0.008 + 0.985 + 0.001 = 0.995。买 1 股各，总成本 0.995 USDC，结算获 1 USDC，利润 0.5%。大额（$10k）日数十笔，年化回报惊人。

#### 2. **市场再平衡套利（Market Rebalancing Arbitrage）**
   - **描述**：单市场内 YES/NO 价格不平衡（e.g., YES 0.60 + NO 0.45 ≠1），或多条件子市场偏差。分为单条件（binary）和多条件（multi-condition）。
   - **适用场景**：二元市场或嵌套事件（如选举胜负 + 票差）。
   - **流程步骤**：
     1. **识别偏差**：监控单市场 YES + NO ≠1，或子条件总和偏差（API /markets 查询）。
     2. **执行交易**：买低估侧 + 卖高估侧（e.g., 买 NO 0.45 + 镜像卖 YES 0.60）。匹配时 mint 新 Shares 平衡。
     3. **持有与结算**：持有对冲头寸（总价值趋近 1），到期获 1 USDC/正确侧。
     4. **退出**：动态调整订单，赚 spread（价差）。
   - **示例**：二元市场“X 胜？”：YES 0.45 + NO 0.50 = 0.95。买 1 YES + 1 NO（成本 0.95），结算获 1，利润 0.05。 2024 选举中，此类机会频现。

#### 3. **组合套利（Combinatorial Arbitrage）**
   - **描述**：跨多个相关市场，利用逻辑依赖（e.g., 选举胜者市场 + 胜差市场）。价格不一致时，构建组合头寸保证利润。
   - **适用场景**：相关事件，如“Trump 胜” + “胜差 >5%”。
   - **流程步骤**：
     1. **识别偏差**：API 扫描嵌套事件（markets 数组），找逻辑不一致（e.g., 胜者市场 Trump 0.60，但胜差市场隐含 <0.60）。
     2. **执行交易**：跨市场买/卖组合（e.g., 买 Trump 胜 + 卖大胜差）。用 bot 自动化匹配。
     3. **持有与结算**：事件链 resolve 时，逻辑保证一侧胜出（获 1 USDC/市场）。
     4. **退出**：监控跨市场 spread，预卖锁定。
   - **示例**：选举市场 A（胜者）：Trump 0.48；市场 B（胜差）：Trump 大胜 0.49。组合买 Trump 胜 + 卖大胜差，逻辑上互斥，获偏差利润。 研究显示，此类占 2025 年套利 30%。

#### 总体建议
- **工具**：用 Polymarket API（/markets）或 bot（如 Medium 教程）实时扫描。 奖励：流动性提供者获 4% 年化。
- **风险**：低流动性延时修正、gas 费；>100% 套利因无短卖，需间接（买 NO）。2025 年选举后，此类机会增多，但竞争激烈。

套利本质是“免费午餐”，但需编程技能放大规模。想模拟具体市场流程？
